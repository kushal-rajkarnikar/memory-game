<html>

    <head>

        <script type="text/javascript">(function (d, n) {
                var s, h;
                s = document.createElement("script");
                s.type = "text/javascript";
                s.async = true;
                s.src = "https://apps.applozic.com/sidebox.app";
                h = document.getElementsByTagName('head')[0];
                h.appendChild(s);
                window.applozic = n;
                n.init = function (t) {
                    n._globals = t;
                }
            })(document, window.applozic || {});</script>
    </head>
    <body>
        <script type="text/javascript">

            //Sample json contains display name and photoLink for userId
            var contacts = {"user1": {"displayName": "Devashish", "imageLink": "http://applozic.appspot.com/resources/images/applozic_icon.png"}, "user2": {"displayName": "Adarsh", "imageLink": "http://applozic.appspot.com/resources/images/applozic_icon.png"}, "user3": {"displayName": "Shanki", "imageLink": "http://applozic.appspot.com/resources/images/applozic_icon.png"}};

            function readMessage(userId) {
                //console.log(userId);
            }

            //Callback function to return display name by userId
            function displayName(userId) {
                //Todo: replace this with users display name
                var contact = contacts[userId];   // contacts sample given above
                if (typeof contact !== 'undefined') {
                    return contact.displayName;
                }
            }

            //Callback function to return contact image url by userId
            function contactImageSrc(userId) {
                var contact = contacts[userId]; // contacts sample given above
                if (typeof contact !== 'undefined') {
                    return contact.imageLink;
                }
            }
            //callback function execute after plugin initialize.
            function onInitialize(response) {
                if (response === 'success') {
                    //write your logic exectute after plugin initialize.
                } else if (typeof response === 'object' && response.status === 'error') {
    				alert(response.errorMessage);
    			}
            }
            window.applozic.init({userId: 'debug2', userName: 'debug2', appId: 'applozic-sample-app', accessToken: 'debug2', readConversation: readMessage, contactDisplayName: displayName,
                contactDisplayImage: contactImageSrc, onInit: onInitialize, maxAttachmentSize: 25, desktopNotification: true,
                        notificationIconLink: "https://www.applozic.com/resources/images/applozic_icon.png",
                        locShare: true,
                        googleApiKey: "AIzaSyDKfWHzu9X7Z2hByeW4RRFJrD9SizOzZt4"});

            // Note: maxAttachmentSize property value declared above is in MB

            // var contactjson = {"contacts": [{"userId": "user1", "displayName": "Devashish", "imageLink": "http://applozic.appspot.com/resources/images/applozic_icon.png"}, {"userId": "user2", "displayName": "Adarsh", "imageLink": "http://applozic.appspot.com/resources/images/applozic_icon.png"}, {"userId": "user3", "displayName": "Shanki", "imageLink": "http://applozic.appspot.com/resources/images/applozic_icon.png"}]};
            // To load contact list use below function and pass contacts json in format shown above in variable 'contactjson'.
            // $applozic.fn.applozic('loadContacts', contactjson);
        </script>
    </body>
</html>
